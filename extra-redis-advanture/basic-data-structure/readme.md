# **Redis 基础数据结构**

Redis 有 5 种基础数据结构，分别为: **string (字符串)、list (列表)、set (集合)、hash (哈希) 和 zset (有序集合)**。熟练掌握这 5 种基本数据结构的使用是 Redis 知识最基础也最重要的部分。<br>

## **容器型数据结构的通用规则**
**list/set/hash/zset** 这四种数据结构是**容器型**数据结构，它们共享下面两条通用规则:<br>

### **1. create if not exists**
- 如果容器不存在，那就**创建一个**，再进行操作。比如 rpush 操作刚开始是没有列表的，Redis 就会自动创建一个，然后再 rpush 进去新元素。

### **2. drop if no elements**
- 如果容器里元素没有了，那么立即**删除元素**，释放内存。这意味着 lpop 操作到最后一个元素，**列表就消失了**。

## **过期时间**
- Redis 所有的数据结构都可以设置**过期时间**，时间到了，Redis 会自动删除相应的对象。 需要注意的是过期**是以对象为单位**，比如一个 hash 结构的过期是**整个 hash 对象的过期**，而不是其中的**某个子 key**。

- 还有一个需要特别注意的地方是如果一个**字符串**已经设置了过期时间，然后你调用了 **set** 方法修改了它，它的**过期时间会消失**。
```bash
127.0.0.1:6379> set codehole yoyo 
OK
127.0.0.1:6379> expire codehole 600 
(integer) 1
127.0.0.1:6379> ttl codehole 
(integer) 597
127.0.0.1:6379> set codehole yoyo 
OK
127.0.0.1:6379> ttl codehole 
(integer) -1
```



