# **WEB请求处理流程**

## **1. 浏览器请求发起处理**

1 B/S网络架构概述#
我们先了解下B/S网络架构是什么？B/S网络架构从前端到后端都得到了简化，都基于统一的应用层协议HTTP来交互数据，HTTP协议采用无状态的短链接的通信方式，通常情况下，一次请求就完成了一次数据交互，通常也对应一个业务逻辑，然后这次通信连接就断开了。采用这种方式是为了能够同时服务更多的用户，因为当前互联网应用每天都会处理上亿的用户请求，不可能每个用户访问一次后就一直保持住这个连接。

当一个用户在浏览器里输入www.google.com这个URL时，将会发生如下操作：

首先，浏览器会请求DNS把这个域名解析成对应的IP地址；

然后，根据这个IP地址在互联网上找到对应的服务器，建立Socket连接，向这个服务器发起一个HTTP Get请求，由这个服务器决定返回默认的数据资源给访问的用户；

在服务器端实际上还有复杂的业务逻辑：服务器可能有多台，到底指定哪台服务器处理请求，这需要一个负载均衡设备来平均分配所有用户的请求；

还有请求的数据是存储在分布式缓存里还是一个静态文件中，或是在数据库里；

当数据返回浏览器时，浏览器解析数据发现还有一些静态资源（如：css，js或者图片）时又会发起另外的HTTP请求，而这些请求可能会在CDN上，那么CDN服务器又会处理这个用户的请求；


2 HTTP协议解析#
B/S网络架构的核心是HTTP协议，最重要的就是要熟悉HTTP协议中的HTTP Header，HTTP Header控制着互联网上成千上万的用户的数据传输。最关键的是，它控制着用户浏览器的渲染行为和服务器的执行逻辑。

常见的HTTP请求头：

常见的HTTP响应头：

